@if (showNavbar) {
  <nz-layout>
    <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed" [nzCollapsedWidth]="48" [nzTrigger]="null">
      <div class="logo" [class.logo-collapsed]="isCollapsed">
        <nz-icon nzType="layout" nzTheme="twotone" routerLink="/"/>
        @if (!isCollapsed) {
          <span class="logo-text" routerLink="/">TradeLens</span>
        }
      </div>
      <ul nz-menu nzTheme="dark" nzMode="inline">
        <!--      <li nz-submenu nzTitle="User" nzIcon="user">-->
        <!--        <ul>-->
        <!--          <li nz-menu-item>Tom</li>-->
        <!--          <li nz-menu-item>Bill</li>-->
        <!--          <li nz-menu-item>Alex</li>-->
        <!--        </ul>-->
        <!--      </li>-->
<!--        <li nz-menu-item routerLink="/feed">-->
<!--          <nz-icon routerLink="/feed" nzType="read"/>-->
<!--          <span>Feed</span>-->
<!--        </li>-->
        <li nz-menu-item routerLink="/companies" routerLinkActive="ant-menu-item-selected" [routerLinkActiveOptions]="{ exact: false }">
          <nz-icon nzType="shop"/>
          <span>Companies</span>
        </li>
        <li nz-menu-item routerLink="/options" routerLinkActive="ant-menu-item-selected" [routerLinkActiveOptions]="{ exact: false }">
          <nz-icon nzType="bar-chart"/>
          <span>Max Pain</span>
        </li>
        <li nz-menu-item routerLink="/chart-engine" routerLinkActive="ant-menu-item-selected" [routerLinkActiveOptions]="{ exact: false }">
          <nz-icon nzType="area-chart"/>
          <span>Chart Engine</span>
        </li>
        <li nz-menu-item routerLink="/earnings-calendar" routerLinkActive="ant-menu-item-selected" [routerLinkActiveOptions]="{ exact: false }">
          <nz-icon nzType="calendar"/>
          <span>Earnings Calendar</span>
        </li>
        <li nz-menu-item routerLink="/macro" routerLinkActive="ant-menu-item-selected" [routerLinkActiveOptions]="{ exact: false }">
          <nz-icon nzType="global"/>
          <span>Macro</span>
        </li>
        <li nz-menu-item routerLink="/congress" routerLinkActive="ant-menu-item-selected" [routerLinkActiveOptions]="{ exact: false }">
          <nz-icon nzType="book"/>
          <span>Congress</span>
        </li>
        <li nz-menu-item routerLink="/">
          <nz-icon nzType="dollar"/>
          <span>TBD</span>
        </li>
        @if (authService.currentUser()) {
          <li nz-menu-item (click)="logout()" routerLink="/">
            <nz-icon nzType="user" nzTheme="outline"/>
            <span>Logout</span>
          </li>
        } @else {
          <li nz-menu-item routerLink="/login">
            <nz-icon nzType="user" nzTheme="outline"/>
            <span>Login</span>
          </li>
        }
      </ul>
    </nz-sider>
    <nz-layout>
      <nz-header class="sticky">
        <nz-icon
          class="trigger"
          [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
          (click)="isCollapsed = !isCollapsed"
        />
        <a routerLink="/auth/landing" class="font-medium text-blue-500 focus:outline-none">Landing Page</a>
        <a routerLink="/" class="font-medium text-blue-500 focus:outline-none ml-6">Go Home</a>
        @if (router.url.startsWith("/companies/")) {
          <a routerLink="/companies" class="font-medium text-blue-500 focus:outline-none ml-6">Search Companies</a>
        }
      </nz-header>
      <nz-content class="pt-4">
        <router-outlet></router-outlet>
      </nz-content>
      <nz-footer class="text-center">
        <span class="text-sm text-gray-500 dark:text-gray-400">© 2025 <a href="#" class="hover:underline">TradeLens™</a>. Based in California.</span>
      </nz-footer>
    </nz-layout>
  </nz-layout>
} @else {
  <router-outlet></router-outlet>
}
