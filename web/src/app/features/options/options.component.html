<app-navbar></app-navbar>

<form (ngSubmit)="onTickerSubmit()">
  <input nz-input
         type="text"
         class=""
         placeholder="Ticker symbol"
         name="ticker"
         [(ngModel)]="ticker"/>

  <button nz-button nzType="primary">Get Expirations</button>
</form>

<form (ngSubmit)="onExpiryDateSelection()">
  @if (expirationDates) {
    <nz-select nzPlaceHolder="Select an expiration date" [(ngModel)]="selectedExpiration" name="expiryDate">
      @for (expirationDate of expirationDates?.expirations?.date; track $index) {
        <nz-option nzValue="{{expirationDate}}" nzLabel="{{expirationDate}}">{{ expirationDate }}</nz-option>
      }
    </nz-select>
    <button nz-button nzType="primary">Select Expiry</button>
  }
</form>

@if (maxPainData) {
  <app-max-pain-chart
    [cashValuesDataForChart]="maxPainData"
    [expirationDate]="selectedExpiration">
  </app-max-pain-chart>
}
